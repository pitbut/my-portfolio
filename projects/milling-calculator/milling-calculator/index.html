<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‚öôÔ∏è –†–∞—Å—á–µ—Ç —Ä–µ–∂–∏–º–æ–≤ —Ä–µ–∑–∞–Ω–∏—è –ø—Ä–∏ —Ñ—Ä–µ–∑–µ—Ä–æ–≤–∞–Ω–∏–∏ v1.0</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.2em;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
        }

        .header .subtitle {
            color: #16a085;
            font-size: 1.1em;
            margin-top: 10px;
        }

        .main-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            padding: 30px;
        }

        @media (max-width: 968px) {
            .main-content {
                grid-template-columns: 1fr;
            }
        }

        .form-section {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 25px;
            border: 2px solid #e9ecef;
        }

        .form-section h2 {
            color: #2c3e50;
            font-size: 1.4em;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 3px solid #3498db;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            color: #2c3e50;
            font-weight: 600;
            font-size: 0.95em;
        }

        .form-group input,
        .form-group select {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #dce4ec;
            border-radius: 8px;
            font-size: 1em;
            transition: all 0.3s;
            background: white;
        }

        .form-group input:focus,
        .form-group select:focus {
            outline: none;
            border-color: #3498db;
            box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.1);
        }

        .form-group select {
            cursor: pointer;
        }

        .button-group {
            display: flex;
            gap: 15px;
            margin-top: 30px;
            flex-wrap: wrap;
        }

        .btn {
            flex: 1;
            padding: 15px 25px;
            border: none;
            border-radius: 10px;
            font-size: 1.1em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            min-width: 180px;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.2);
        }

        .btn-primary {
            background: linear-gradient(135deg, #27ae60, #229954);
            color: white;
        }

        .btn-secondary {
            background: linear-gradient(135deg, #3498db, #2980b9);
            color: white;
        }

        .btn-warning {
            background: linear-gradient(135deg, #e67e22, #d35400);
            color: white;
        }

        .btn-info {
            background: linear-gradient(135deg, #9b59b6, #8e44ad);
            color: white;
        }

        .results-section {
            grid-column: 1 / -1;
            background: #f8f9fa;
            border-radius: 15px;
            padding: 30px;
            border: 2px solid #e9ecef;
            display: none;
        }

        .results-section.show {
            display: block;
            animation: fadeIn 0.5s;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .results-section h2 {
            color: #2c3e50;
            font-size: 1.8em;
            margin-bottom: 25px;
            text-align: center;
            padding: 15px;
            background: linear-gradient(135deg, #3498db, #2980b9);
            color: white;
            border-radius: 10px;
        }

        .result-block {
            background: white;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
            border-left: 5px solid #3498db;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }

        .result-block h3 {
            color: #2c3e50;
            margin-bottom: 15px;
            font-size: 1.3em;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .result-item {
            display: flex;
            justify-content: space-between;
            padding: 10px 0;
            border-bottom: 1px solid #ecf0f1;
        }

        .result-item:last-child {
            border-bottom: none;
        }

        .result-label {
            font-weight: 600;
            color: #555;
        }

        .result-value {
            color: #2c3e50;
            font-weight: bold;
        }

        .result-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }

        .result-table th,
        .result-table td {
            padding: 12px;
            text-align: left;
            border: 1px solid #ddd;
        }

        .result-table th {
            background: #3498db;
            color: white;
            font-weight: 600;
        }

        .result-table tr:nth-child(even) {
            background: #f8f9fa;
        }

        .power-check {
            padding: 15px;
            border-radius: 8px;
            margin-top: 15px;
            font-weight: bold;
            text-align: center;
            font-size: 1.1em;
        }

        .power-check.success {
            background: #d4edda;
            color: #155724;
            border: 2px solid #c3e6cb;
        }

        .power-check.fail {
            background: #f8d7da;
            color: #721c24;
            border: 2px solid #f5c6cb;
        }

        .formula {
            background: #f1f3f5;
            padding: 15px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            margin: 10px 0;
            border-left: 4px solid #3498db;
        }

        .coefficient-info {
            background: #fff3cd;
            padding: 15px;
            border-radius: 8px;
            margin: 10px 0;
            border-left: 4px solid #ffc107;
        }

        .loading {
            text-align: center;
            padding: 20px;
            font-size: 1.2em;
            color: #3498db;
        }

        .toast {
            position: fixed;
            top: 20px;
            right: 20px;
            background: #2c3e50;
            color: white;
            padding: 15px 25px;
            border-radius: 10px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            z-index: 1000;
            animation: slideIn 0.3s;
        }

        @keyframes slideIn {
            from { transform: translateX(400px); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        .grid-2 {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }

        @media (max-width: 768px) {
            .grid-2 {
                grid-template-columns: 1fr;
            }
        }

        .info-badge {
            display: inline-block;
            background: #3498db;
            color: white;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.85em;
            margin-left: 10px;
        }

        .scrollable {
            max-height: 600px;
            overflow-y: auto;
            padding-right: 10px;
        }

        .scrollable::-webkit-scrollbar {
            width: 8px;
        }

        .scrollable::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 10px;
        }

        .scrollable::-webkit-scrollbar-thumb {
            background: #3498db;
            border-radius: 10px;
        }

        .scrollable::-webkit-scrollbar-thumb:hover {
            background: #2980b9;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>
                <span>‚öôÔ∏è</span>
                <span>–†–∞—Å—á–µ—Ç —Ä–µ–∂–∏–º–æ–≤ —Ä–µ–∑–∞–Ω–∏—è –ø—Ä–∏ —Ñ—Ä–µ–∑–µ—Ä–æ–≤–∞–Ω–∏–∏</span>
                <span>‚öôÔ∏è</span>
            </h1>
            <div class="subtitle">–í–µ—Ä—Å–∏—è 1.0 ‚Ä¢ –° –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ —Ç–∞–±–ª–∏—Ü–∞–º–∏ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–æ–≤ –∏–∑ –º–µ—Ç–æ–¥–∏—á–∫–∏</div>
        </div>

        <div class="main-content">
            <!-- –õ–µ–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞ -->
            <div class="scrollable">
                <div class="form-section">
                    <h2>üîß –¢–∏–ø –æ–ø–µ—Ä–∞—Ü–∏–∏</h2>
                    <div class="form-group">
                        <label>–¢–∏–ø —Ñ—Ä–µ–∑—ã:</label>
                        <select id="cutterType">
                            <option>–¢–æ—Ä—Ü–æ–≤—ã–µ</option>
                            <option>–¶–∏–ª–∏–Ω–¥—Ä–∏—á–µ—Å–∫–∏–µ</option>
                            <option>–î–∏—Å–∫–æ–≤—ã–µ —Å–æ –≤—Å—Ç–∞–≤–Ω—ã–º–∏ –Ω–æ–∂–∞–º–∏</option>
                            <option>–î–∏—Å–∫–æ–≤—ã–µ —Ü–µ–ª—å–Ω—ã–µ</option>
                            <option>–ö–æ–Ω—Ü–µ–≤—ã–µ</option>
                            <option>–ü—Ä–æ—Ä–µ–∑–Ω—ã–µ –∏ –æ—Ç—Ä–µ–∑–Ω—ã–µ</option>
                            <option>–§–∞—Å–æ–Ω–Ω—ã–µ –∏ —É–≥–ª–æ–≤—ã–µ</option>
                            <option>–®–ø–æ–Ω–æ—á–Ω—ã–µ –¥–≤—É—Ö–ø–µ—Ä—ã–µ</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>–û–ø–µ—Ä–∞—Ü–∏—è:</label>
                        <select id="operationType">
                            <option>–§—Ä–µ–∑–µ—Ä–æ–≤–∞–Ω–∏–µ –ø–ª–æ—Å–∫–æ—Å—Ç–µ–π</option>
                            <option>–§—Ä–µ–∑–µ—Ä–æ–≤–∞–Ω–∏–µ —É—Å—Ç—É–ø–æ–≤ –∏ –ø–∞–∑–æ–≤</option>
                            <option>–ü—Ä–æ—Ä–µ–∑–∞–Ω–∏–µ –ø–∞–∑–æ–≤ –∏ –æ—Ç—Ä–µ–∑–∞–Ω–∏–µ</option>
                            <option>–§—Ä–µ–∑–µ—Ä–æ–≤–∞–Ω–∏–µ —É–≥–ª–æ–≤—ã—Ö –∫–∞–Ω–∞–≤–æ–∫ –∏ —Ñ–∞—Å–æ–Ω–Ω–æ–µ</option>
                        </select>
                    </div>
                </div>

                <div class="form-section">
                    <h2>üî© –ú–∞—Ç–µ—Ä–∏–∞–ª—ã</h2>
                    <div class="form-group">
                        <label>–ú–∞—Ç–µ—Ä–∏–∞–ª –¥–µ—Ç–∞–ª–∏:</label>
                        <select id="material">
                            <option>–°—Ç–∞–ª—å –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–æ–Ω–Ω–∞—è (œÉ–≤ = 750 –ú–ü–∞)</option>
                            <option>–°—Ç–∞–ª—å –∂–∞—Ä–æ–ø—Ä–æ—á–Ω–∞—è 12–•18–ù9–¢ (141 –ù–í)</option>
                            <option>–ß—É–≥—É–Ω —Å–µ—Ä—ã–π (190 –ù–í)</option>
                            <option>–ß—É–≥—É–Ω –∫–æ–≤–∫–∏–π (150 –ù–í)</option>
                            <option>–ú–µ–¥–Ω—ã–µ –≥–µ—Ç–µ—Ä–æ–≥–µ–Ω–Ω—ã–µ —Å–ø–ª–∞–≤—ã (100-140 –ù–í)</option>
                            <option>–°–∏–ª—É–º–∏–Ω –∏ –ª–∏—Ç–µ–π–Ω—ã–µ –∞–ª—é–º–∏–Ω–∏–µ–≤—ã–µ —Å–ø–ª–∞–≤—ã</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>–ú–∞—Ç–µ—Ä–∏–∞–ª –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞:</label>
                        <select id="toolMaterial">
                            <option>–¢–≤–µ—Ä–¥—ã–π —Å–ø–ª–∞–≤ –¢15–ö6</option>
                            <option>–¢–≤–µ—Ä–¥—ã–π —Å–ø–ª–∞–≤ –¢5–ö10</option>
                            <option>–¢–≤–µ—Ä–¥—ã–π —Å–ø–ª–∞–≤ –í–ö8</option>
                            <option>–¢–≤–µ—Ä–¥—ã–π —Å–ø–ª–∞–≤ –í–ö6</option>
                            <option selected>–ë—ã—Å—Ç—Ä–æ—Ä–µ–∂—É—â–∞—è —Å—Ç–∞–ª—å –†6–ú5</option>
                            <option>–ë—ã—Å—Ç—Ä–æ—Ä–µ–∂—É—â–∞—è —Å—Ç–∞–ª—å –†18</option>
                        </select>
                    </div>
                </div>

                <div class="form-section">
                    <h2>‚öôÔ∏è –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏</h2>
                    <div class="form-group">
                        <label>–í–∏–¥ –æ–±—Ä–∞–±–æ—Ç–∫–∏:</label>
                        <select id="machiningType">
                            <option selected>–ß–µ—Ä–Ω–æ–≤–∞—è</option>
                            <option>–ü–æ–ª—É—á–∏—Å—Ç–æ–≤–∞—è</option>
                            <option>–ß–∏—Å—Ç–æ–≤–∞—è</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>–û—Ö–ª–∞–∂–¥–µ–Ω–∏–µ:</label>
                        <select id="cooling">
                            <option>–ë–µ–∑ –æ—Ö–ª–∞–∂–¥–µ–Ω–∏—è</option>
                            <option>–° –æ—Ö–ª–∞–∂–¥–µ–Ω–∏–µ–º</option>
                        </select>
                    </div>
                </div>
            </div>

            <!-- –ü—Ä–∞–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞ -->
            <div class="scrollable">
                <div class="form-section">
                    <h2>üìè –ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Ñ—Ä–µ–∑—ã</h2>
                    <div class="form-group">
                        <label>–î–∏–∞–º–µ—Ç—Ä —Ñ—Ä–µ–∑—ã D, –º–º:</label>
                        <input type="number" id="diameter" value="160" step="0.1">
                    </div>
                    <div class="form-group">
                        <label>–ß–∏—Å–ª–æ –∑—É–±—å–µ–≤ z:</label>
                        <input type="number" id="teethNumber" value="18" step="1">
                    </div>
                    <div class="form-group">
                        <label>–®–∏—Ä–∏–Ω–∞ —Ñ—Ä–µ–∑–µ—Ä–æ–≤–∞–Ω–∏—è B, –º–º:</label>
                        <input type="number" id="width" value="2" step="0.1">
                    </div>
                </div>

                <div class="form-section">
                    <h2>üî® –†–µ–∂–∏–º—ã —Ä–µ–∑–∞–Ω–∏—è</h2>
                    <div class="form-group">
                        <label>–ì–ª—É–±–∏–Ω–∞ —Ä–µ–∑–∞–Ω–∏—è t, –º–º:</label>
                        <input type="number" id="depth" value="4" step="0.1">
                    </div>
                    <div class="form-group">
                        <label>–ü–æ–¥–∞—á–∞ –Ω–∞ –∑—É–± Sz, –º–º/–∑—É–±:</label>
                        <input type="number" id="feedPerTooth" value="0.3" step="0.01">
                    </div>
                    <div class="form-group">
                        <label>–°—Ç–æ–π–∫–æ—Å—Ç—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ T, –º–∏–Ω:</label>
                        <input type="number" id="toolLife" value="150" step="1">
                    </div>
                </div>

                <div class="form-section">
                    <h2>üìê –†–∞–∑–º–µ—Ä—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏</h2>
                    <div class="form-group">
                        <label>–î–ª–∏–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ L, –º–º:</label>
                        <input type="number" id="length" value="100" step="0.1">
                    </div>
                    <div class="grid-2">
                        <div class="form-group">
                            <label>–í—Ä–µ–∑–∞–Ω–∏–µ l‚ÇÅ, –º–º:</label>
                            <input type="number" id="approach" value="5" step="0.1">
                        </div>
                        <div class="form-group">
                            <label>–ü–µ—Ä–µ–±–µ–≥ l‚ÇÇ, –º–º:</label>
                            <input type="number" id="overtravel" value="5" step="0.1">
                        </div>
                    </div>
                </div>

                <div class="form-section">
                    <h2>üè≠ –ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Å—Ç–∞–Ω–∫–∞</h2>
                    <div class="form-group">
                        <label>–ú–æ–¥–µ–ª—å —Å—Ç–∞–Ω–∫–∞:</label>
                        <select id="machine">
                            <option selected>6–†81</option>
                            <option>6–†82</option>
                            <option>6–†12</option>
                            <option>6–†13</option>
                            <option>6–ú82–ì</option>
                            <option>6–ù81</option>
                            <option>6–¢80–®</option>
                        </select>
                    </div>
                    <div class="grid-2">
                        <div class="form-group">
                            <label>–ú–æ—â–Ω–æ—Å—Ç—å N, –∫–í—Ç:</label>
                            <input type="number" id="machinePower" value="5.5" step="0.1">
                        </div>
                        <div class="form-group">
                            <label>–ö–ü–î Œ∑:</label>
                            <input type="number" id="efficiency" value="0.8" step="0.01">
                        </div>
                    </div>
                </div>
            </div>

            <!-- –ö–Ω–æ–ø–∫–∏ -->
            <div class="form-section" style="grid-column: 1 / -1;">
                <div class="button-group">
                    <button class="btn btn-primary" onclick="calculate()">
                        üìä –í—ã–ø–æ–ª–Ω–∏—Ç—å —Ä–∞—Å—á–µ—Ç
                    </button>
                    <button class="btn btn-secondary" onclick="generateReport()">
                        üìÑ –°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –æ—Ç—á–µ—Ç
                    </button>
                    <button class="btn btn-info" onclick="saveData()">
                        üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ
                    </button>
                    <button class="btn btn-info" onclick="loadData()">
                        üìÇ –ó–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ
                    </button>
                    <button class="btn btn-warning" onclick="clearResults()">
                        üóëÔ∏è –û—á–∏—Å—Ç–∏—Ç—å
                    </button>
                </div>
            </div>

            <!-- –†–µ–∑—É–ª—å—Ç–∞—Ç—ã -->
            <div class="results-section" id="resultsSection">
                <h2>üìä –†–ï–ó–£–õ–¨–¢–ê–¢–´ –†–ê–°–ß–ï–¢–ê –†–ï–ñ–ò–ú–û–í –§–†–ï–ó–ï–†–û–í–ê–ù–ò–Ø</h2>
                <div id="resultsContent"></div>
            </div>
        </div>
    </div>

    <script>
        // –ì–ª–æ–±–∞–ª—å–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
        let calculationResults = null;

        // –¢–∞–±–ª–∏—Ü—ã –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–æ–≤ –∏–∑ –º–µ—Ç–æ–¥–∏—á–∫–∏
        function getCuttingSpeedCoefficients(material, toolMaterial, cutterType, operation, widthB, depthT, feedSz) {
            // –°—Ç–∞–ª—å –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–æ–Ω–Ω–∞—è œÉ–≤ = 750 –ú–ü–∞
            if (material.includes('750') || material.includes('–°—Ç–∞–ª—å –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–æ–Ω–Ω–∞—è')) {
                if (cutterType.includes('–¢–æ—Ä—Ü–æ–≤—ã–µ')) {
                    if (toolMaterial.includes('–¢15–ö6')) {
                        return [332, 0.2, 0.1, 0.4, 0.2, 0, 0.2];
                    } else if (toolMaterial.includes('–†6–ú5')) {
                        if (feedSz <= 0.1) {
                            return [64.7, 0.25, 0.1, 0.2, 0.15, 0, 0.2];
                        } else {
                            return [41, 0.25, 0.1, 0.4, 0.15, 0, 0.2];
                        }
                    }
                } else if (cutterType.includes('–¶–∏–ª–∏–Ω–¥—Ä–∏—á–µ—Å–∫–∏–µ')) {
                    if (toolMaterial.includes('–¢15–ö6')) {
                        if (widthB <= 35) {
                            if (depthT <= 2) {
                                return [390, 0.17, 0.19, 0.28, -0.05, 0.1, 0.33];
                            } else {
                                return [443, 0.17, 0.38, 0.28, -0.05, 0.1, 0.33];
                            }
                        } else {
                            if (depthT <= 2) {
                                return [616, 0.17, 0.19, 0.28, 0.08, 0.1, 0.33];
                            } else {
                                return [700, 0.17, 0.38, 0.28, 0.08, 0.1, 0.33];
                            }
                        }
                    } else if (toolMaterial.includes('–†6–ú5')) {
                        if (feedSz <= 0.1) {
                            return [55, 0.45, 0.3, 0.2, 0.1, 0.1, 0.33];
                        } else {
                            return [35.4, 0.45, 0.3, 0.4, 0.1, 0.1, 0.33];
                        }
                    }
                } else if (cutterType.includes('–î–∏—Å–∫–æ–≤—ã–µ —Å–æ –≤—Å—Ç–∞–≤–Ω—ã–º–∏')) {
                    if (toolMaterial.includes('–¢15–ö6')) {
                        if (feedSz < 0.12) {
                            return [1340, 0.2, 0.4, 0.12, 0, 0, 0.35];
                        } else {
                            return [740, 0.2, 0.4, 0.4, 0, 0, 0.35];
                        }
                    } else if (toolMaterial.includes('–†6–ú5')) {
                        if (feedSz <= 0.1) {
                            return [75.5, 0.25, 0.3, 0.2, 0.1, 0.1, 0.2];
                        } else {
                            return [48.5, 0.25, 0.3, 0.4, 0.1, 0.1, 0.2];
                        }
                    }
                } else if (cutterType.includes('–î–∏—Å–∫–æ–≤—ã–µ —Ü–µ–ª—å–Ω—ã–µ')) {
                    if (toolMaterial.includes('–†6–ú5')) {
                        return [68.5, 0.25, 0.3, 0.2, 0.1, 0.1, 0.2];
                    }
                } else if (cutterType.includes('–ö–æ–Ω—Ü–µ–≤—ã–µ')) {
                    if (toolMaterial.includes('–†6–ú5')) {
                        return [145, 0.44, 0.24, 0.26, 0.1, 0.13, 0.37];
                    } else if (toolMaterial.includes('–¢15–ö6')) {
                        return [234, 0.44, 0.24, 0.26, 0.1, 0.13, 0.37];
                    }
                } else if (cutterType.includes('–ü—Ä–æ—Ä–µ–∑–Ω—ã–µ') || cutterType.includes('–æ—Ç—Ä–µ–∑–Ω—ã–µ')) {
                    if (toolMaterial.includes('–†6–ú5')) {
                        return [53, 0.25, 0.3, 0.2, 0.2, 0.1, 0.2];
                    }
                } else if (cutterType.includes('–§–∞—Å–æ–Ω–Ω—ã–µ') || cutterType.includes('—É–≥–ª–æ–≤—ã–µ')) {
                    if (toolMaterial.includes('–†6–ú5')) {
                        return [53, 0.45, 0.3, 0.2, 0.1, 0.1, 0.33];
                    }
                } else if (cutterType.includes('–®–ø–æ–Ω–æ—á–Ω—ã–µ')) {
                    if (toolMaterial.includes('–†6–ú5')) {
                        return [12, 0.3, 0.3, 0.25, 0, 0, 0.26];
                    }
                }
            }
            // –°—Ç–∞–ª—å –∂–∞—Ä–æ–ø—Ä–æ—á–Ω–∞—è 12–•18–ù9–¢
            else if (material.includes('–∂–∞—Ä–æ–ø—Ä–æ—á–Ω') || material.includes('12–•18–ù9–¢')) {
                if (cutterType.includes('–¢–æ—Ä—Ü–æ–≤—ã–µ')) {
                    if (toolMaterial.includes('–í–ö8')) {
                        return [108, 0.2, 0.06, 0.3, 0.2, 0, 0.32];
                    } else if (toolMaterial.includes('–†6–ú5')) {
                        return [49.6, 0.15, 0.2, 0.3, 0.2, 0.1, 0.14];
                    }
                } else if (cutterType.includes('–¶–∏–ª–∏–Ω–¥—Ä–∏—á–µ—Å–∫–∏–µ')) {
                    if (toolMaterial.includes('–†6–ú5')) {
                        return [44, 0.29, 0.3, 0.34, 0.1, 0.1, 0.24];
                    }
                } else if (cutterType.includes('–ö–æ–Ω—Ü–µ–≤—ã–µ')) {
                    if (toolMaterial.includes('–†6–ú5')) {
                        return [22.5, 0.35, 0.21, 0.48, 0.03, 0.1, 0.27];
                    }
                }
            }
            // –ß—É–≥—É–Ω —Å–µ—Ä—ã–π 190–ù–í
            else if (material.includes('–ß—É–≥—É–Ω —Å–µ—Ä—ã–π') || (material.includes('190') && material.includes('–ù–í'))) {
                if (cutterType.includes('–¢–æ—Ä—Ü–æ–≤—ã–µ')) {
                    if (toolMaterial.includes('–í–ö6')) {
                        return [445, 0.2, 0.15, 0.35, 0.2, 0, 0.32];
                    } else if (toolMaterial.includes('–†6–ú5')) {
                        return [42, 0.2, 0.1, 0.4, 0.1, 0.1, 0.15];
                    }
                } else if (cutterType.includes('–¶–∏–ª–∏–Ω–¥—Ä–∏—á–µ—Å–∫–∏–µ')) {
                    if (toolMaterial.includes('–í–ö6')) {
                        if (depthT < 2.5) {
                            if (feedSz <= 0.2) {
                                return [923, 0.37, 0.13, 0.19, 0.23, 0.14, 0.42];
                            } else {
                                return [588, 0.37, 0.13, 0.47, 0.23, 0.14, 0.42];
                            }
                        } else {
                            if (feedSz <= 0.2) {
                                return [1180, 0.37, 0.40, 0.19, 0.23, 0.14, 0.42];
                            } else {
                                return [750, 0.37, 0.40, 0.47, 0.23, 0.14, 0.42];
                            }
                        }
                    } else if (toolMaterial.includes('–†6–ú5')) {
                        if (feedSz <= 0.15) {
                            return [57.6, 0.7, 0.5, 0.2, 0.3, 0.3, 0.25];
                        } else {
                            return [27, 0.7, 0.5, 0.6, 0.3, 0.3, 0.25];
                        }
                    }
                } else if (cutterType.includes('–î–∏—Å–∫–æ–≤—ã–µ —Å–æ –≤—Å—Ç–∞–≤–Ω—ã–º–∏')) {
                    if (toolMaterial.includes('–†6–ú5')) {
                        return [85, 0.2, 0.5, 0.4, 0.1, 0.1, 0.15];
                    }
                } else if (cutterType.includes('–î–∏—Å–∫–æ–≤—ã–µ —Ü–µ–ª—å–Ω—ã–µ')) {
                    if (toolMaterial.includes('–†6–ú5')) {
                        return [72, 0.2, 0.5, 0.4, 0.1, 0.1, 0.15];
                    }
                }
            }
            // –ß—É–≥—É–Ω –∫–æ–≤–∫–∏–π 150–ù–í
            else if (material.includes('–ß—É–≥—É–Ω –∫–æ–≤–∫–∏–π') || (material.includes('150') && material.includes('–ù–í'))) {
                if (cutterType.includes('–¢–æ—Ä—Ü–æ–≤—ã–µ')) {
                    if (toolMaterial.includes('–í–ö6')) {
                        if (feedSz <= 0.18) {
                            return [994, 0.22, 0.17, 0.1, 0.22, 0, 0.33];
                        } else {
                            return [695, 0.22, 0.17, 0.32, 0.22, 0, 0.33];
                        }
                    } else if (toolMaterial.includes('–†6–ú5')) {
                        if (feedSz <= 0.1) {
                            return [90.5, 0.25, 0.1, 0.2, 0.15, 0.1, 0.2];
                        } else {
                            return [57.4, 0.25, 0.1, 0.4, 0.15, 0.1, 0.2];
                        }
                    }
                } else if (cutterType.includes('–¶–∏–ª–∏–Ω–¥—Ä–∏—á–µ—Å–∫–∏–µ')) {
                    if (toolMaterial.includes('–†6–ú5')) {
                        if (feedSz <= 0.1) {
                            return [77, 0.45, 0.3, 0.2, 0.1, 0.1, 0.33];
                        } else {
                            return [49.5, 0.45, 0.3, 0.4, 0.1, 0.1, 0.33];
                        }
                    }
                } else if (cutterType.includes('–î–∏—Å–∫–æ–≤—ã–µ —Å–æ –≤—Å—Ç–∞–≤–Ω—ã–º–∏')) {
                    if (toolMaterial.includes('–†6–ú5')) {
                        if (feedSz <= 0.1) {
                            return [105.8, 0.25, 0.3, 0.2, 0.1, 0.1, 0.2];
                        } else {
                            return [68, 0.25, 0.3, 0.4, 0.1, 0.1, 0.2];
                        }
                    }
                } else if (cutterType.includes('–î–∏—Å–∫–æ–≤—ã–µ —Ü–µ–ª—å–Ω—ã–µ')) {
                    if (toolMaterial.includes('–†6–ú5')) {
                        return [95.8, 0.25, 0.3, 0.2, 0.1, 0.1, 0.2];
                    }
                } else if (cutterType.includes('–ö–æ–Ω—Ü–µ–≤—ã–µ')) {
                    if (toolMaterial.includes('–†6–ú5')) {
                        return [68.5, 0.45, 0.3, 0.2, 0.1, 0.1, 0.33];
                    }
                } else if (cutterType.includes('–ü—Ä–æ—Ä–µ–∑–Ω—ã–µ') || cutterType.includes('–æ—Ç—Ä–µ–∑–Ω—ã–µ')) {
                    if (toolMaterial.includes('–†6–ú5')) {
                        return [74, 0.25, 0.3, 0.2, 0.2, 0.1, 0.2];
                    }
                }
            }
            // –ú–µ–¥–Ω—ã–µ —Å–ø–ª–∞–≤—ã
            else if (material.includes('–ú–µ–¥–Ω')) {
                if (toolMaterial.includes('–†6–ú5')) {
                    if (cutterType.includes('–¢–æ—Ä—Ü–æ–≤—ã–µ')) {
                        if (feedSz <= 0.1) {
                            return [136, 0.25, 0.1, 0.2, 0.15, 0.1, 0.2];
                        } else {
                            return [86.2, 0.25, 0.1, 0.4, 0.15, 0.1, 0.2];
                        }
                    } else if (cutterType.includes('–¶–∏–ª–∏–Ω–¥—Ä–∏—á–µ—Å–∫–∏–µ')) {
                        if (feedSz <= 0.1) {
                            return [115.5, 0.45, 0.3, 0.2, 0.1, 0.1, 0.33];
                        } else {
                            return [74.3, 0.45, 0.3, 0.4, 0.1, 0.1, 0.33];
                        }
                    } else if (cutterType.includes('–î–∏—Å–∫–æ–≤—ã–µ —Å–æ –≤—Å—Ç–∞–≤–Ω—ã–º–∏')) {
                        if (feedSz <= 0.1) {
                            return [158.5, 0.25, 0.3, 0.2, 0.1, 0.1, 0.2];
                        } else {
                            return [102, 0.25, 0.3, 0.4, 0.1, 0.1, 0.2];
                        }
                    } else if (cutterType.includes('–î–∏—Å–∫–æ–≤—ã–µ —Ü–µ–ª—å–Ω—ã–µ')) {
                        return [144, 0.25, 0.3, 0.2, 0.1, 0.1, 0.2];
                    }
                }
            }
            // –°–∏–ª—É–º–∏–Ω –∏ –∞–ª—é–º–∏–Ω–∏–µ–≤—ã–µ —Å–ø–ª–∞–≤—ã
            else if (material.includes('–°–∏–ª—É–º–∏–Ω') || material.includes('–∞–ª—é–º–∏–Ω–∏–µ–≤')) {
                if (toolMaterial.includes('–†6–ú5')) {
                    if (cutterType.includes('–¢–æ—Ä—Ü–æ–≤—ã–µ')) {
                        if (feedSz <= 0.1) {
                            return [245, 0.25, 0.1, 0.2, 0.15, 0.1, 0.2];
                        } else {
                            return [155, 0.25, 0.1, 0.4, 0.15, 0.1, 0.2];
                        }
                    } else if (cutterType.includes('–¶–∏–ª–∏–Ω–¥—Ä–∏—á–µ—Å–∫–∏–µ')) {
                        if (feedSz <= 0.1) {
                            return [208, 0.45, 0.3, 0.2, 0.1, 0.1, 0.33];
                        } else {
                            return [133.5, 0.45, 0.3, 0.4, 0.1, 0.1, 0.33];
                        }
                    } else if (cutterType.includes('–î–∏—Å–∫–æ–≤—ã–µ —Å–æ –≤—Å—Ç–∞–≤–Ω—ã–º–∏')) {
                        if (feedSz <= 0.1) {
                            return [285, 0.25, 0.3, 0.2, 0.1, 0.1, 0.2];
                        } else {
                            return [183.4, 0.25, 0.3, 0.4, 0.1, 0.1, 0.2];
                        }
                    } else if (cutterType.includes('–î–∏—Å–∫–æ–≤—ã–µ —Ü–µ–ª—å–Ω—ã–µ')) {
                        return [259, 0.25, 0.3, 0.2, 0.1, 0.1, 0.2];
                    } else if (cutterType.includes('–ö–æ–Ω—Ü–µ–≤—ã–µ')) {
                        return [185.5, 0.45, 0.3, 0.2, 0.1, 0.1, 0.33];
                    } else if (cutterType.includes('–ü—Ä–æ—Ä–µ–∑–Ω—ã–µ') || cutterType.includes('–æ—Ç—Ä–µ–∑–Ω—ã–µ')) {
                        return [200, 0.25, 0.3, 0.2, 0.2, 0.1, 0.2];
                    }
                }
            }

            // –ó–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
            console.warn('–ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é');
            return [85, 0.25, 0.3, 0.3, 0.15, 0.1, 0.2];
        }

        function getToolLife(cutterType, diameter) {
            if (cutterType.includes('–¢–æ—Ä—Ü–æ–≤—ã–µ')) {
                if (diameter <= 40) return 120;
                if (diameter <= 90) return 180;
                if (diameter <= 250) return 240;
                if (diameter <= 400) return 300;
                return 400;
            } else if (cutterType.includes('–¶–∏–ª–∏–Ω–¥—Ä–∏—á–µ—Å–∫–∏–µ')) {
                if (diameter <= 90) return 180;
                if (diameter <= 250) return 240;
                return 180;
            } else if (cutterType.includes('–î–∏—Å–∫–æ–≤—ã–µ')) {
                if (diameter <= 110) return 120;
                if (diameter <= 200) return 150;
                if (diameter <= 300) return 180;
                return 240;
            } else if (cutterType.includes('–ö–æ–Ω—Ü–µ–≤—ã–µ')) {
                if (diameter <= 25) return 80;
                if (diameter <= 60) return 90;
                if (diameter <= 180) return 120;
                return 180;
            } else if (cutterType.includes('–ü—Ä–æ—Ä–µ–∑–Ω—ã–µ') || cutterType.includes('–æ—Ç—Ä–µ–∑–Ω—ã–µ')) {
                if (diameter <= 75) return 60;
                if (diameter <= 110) return 75;
                if (diameter <= 200) return 120;
                return 150;
            } else if (cutterType.includes('–§–∞—Å–æ–Ω–Ω—ã–µ') || cutterType.includes('—É–≥–ª–æ–≤—ã–µ')) {
                if (diameter <= 40) return 120;
                return 180;
            }
            return 120;
        }

        function getCuttingForceCoefficients(material, toolMaterial, cutterType, operation) {
            // –°—Ç–∞–ª—å –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–æ–Ω–Ω–∞—è œÉ–≤ = 750 –ú–ü–∞
            if (material.includes('750') || material.includes('–°—Ç–∞–ª—å –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–æ–Ω–Ω–∞—è')) {
                if (cutterType.includes('–¢–æ—Ä—Ü–æ–≤—ã–µ')) {
                    if (toolMaterial.includes('–¢–≤–µ—Ä–¥—ã–π —Å–ø–ª–∞–≤') || toolMaterial.includes('–¢15–ö6') || toolMaterial.includes('–í–ö')) {
                        return [825, 1.0, 0.75, 1.1, 1.3, 0.2];
                    } else if (toolMaterial.includes('–ë—ã—Å—Ç—Ä–æ—Ä–µ–∂—É—â–∞—è') || toolMaterial.includes('–†6–ú5') || toolMaterial.includes('–†18')) {
                        return [82.5, 0.95, 0.8, 1.1, 1.1, 0];
                    }
                } else if (cutterType.includes('–¶–∏–ª–∏–Ω–¥—Ä–∏—á–µ—Å–∫–∏–µ')) {
                    if (toolMaterial.includes('–¢–≤–µ—Ä–¥—ã–π —Å–ø–ª–∞–≤') || toolMaterial.includes('–¢15–ö6') || toolMaterial.includes('–í–ö')) {
                        return [101, 0.88, 0.75, 1.0, 0.87, 0];
                    } else if (toolMaterial.includes('–ë—ã—Å—Ç—Ä–æ—Ä–µ–∂—É—â–∞—è') || toolMaterial.includes('–†6–ú5')) {
                        return [68.2, 0.86, 0.72, 1.0, 0.86, 0];
                    }
                } else if (cutterType.includes('–î–∏—Å–∫–æ–≤—ã–µ') || cutterType.includes('–ü—Ä–æ—Ä–µ–∑–Ω—ã–µ') || cutterType.includes('–æ—Ç—Ä–µ–∑–Ω—ã–µ')) {
                    if (toolMaterial.includes('–¢–≤–µ—Ä–¥—ã–π —Å–ø–ª–∞–≤') || toolMaterial.includes('–¢15–ö6') || toolMaterial.includes('–í–ö')) {
                        return [261, 0.9, 0.8, 1.1, 1.1, 0.1];
                    } else if (toolMaterial.includes('–ë—ã—Å—Ç—Ä–æ—Ä–µ–∂—É—â–∞—è') || toolMaterial.includes('–†6–ú5')) {
                        return [68.2, 0.86, 0.72, 1.0, 0.86, 0];
                    }
                } else if (cutterType.includes('–ö–æ–Ω—Ü–µ–≤—ã–µ')) {
                    if (toolMaterial.includes('–¢–≤–µ—Ä–¥—ã–π —Å–ø–ª–∞–≤') || toolMaterial.includes('–¢15–ö6') || toolMaterial.includes('–í–ö')) {
                        return [12.5, 0.85, 0.75, 1.0, 0.73, -0.13];
                    } else if (toolMaterial.includes('–ë—ã—Å—Ç—Ä–æ—Ä–µ–∂—É—â–∞—è') || toolMaterial.includes('–†6–ú5')) {
                        return [68.2, 0.86, 0.72, 1.0, 0.86, 0];
                    }
                } else if (cutterType.includes('–§–∞—Å–æ–Ω–Ω—ã–µ') || cutterType.includes('—É–≥–ª–æ–≤—ã–µ')) {
                    if (toolMaterial.includes('–ë—ã—Å—Ç—Ä–æ—Ä–µ–∂—É—â–∞—è') || toolMaterial.includes('–†6–ú5')) {
                        return [47, 0.86, 0.72, 0.1, 0.86, 0];
                    }
                }
            }
            // –°—Ç–∞–ª—å –∂–∞—Ä–æ–ø—Ä–æ—á–Ω–∞—è
            else if (material.includes('–∂–∞—Ä–æ–ø—Ä–æ—á–Ω') || material.includes('12–•18–ù9–¢')) {
                if (cutterType.includes('–¢–æ—Ä—Ü–æ–≤—ã–µ')) {
                    if (toolMaterial.includes('–¢–≤–µ—Ä–¥—ã–π —Å–ø–ª–∞–≤') || toolMaterial.includes('–í–ö')) {
                        return [218, 0.92, 0.78, 1.0, 1.15, 0];
                    }
                } else if (cutterType.includes('–ö–æ–Ω—Ü–µ–≤—ã–µ')) {
                    if (toolMaterial.includes('–ë—ã—Å—Ç—Ä–æ—Ä–µ–∂—É—â–∞—è') || toolMaterial.includes('–†6–ú5')) {
                        return [82, 0.75, 0.6, 1.0, 0.86, 0];
                    }
                }
            }
            // –ß—É–≥—É–Ω —Å–µ—Ä—ã–π
            else if (material.includes('–ß—É–≥—É–Ω —Å–µ—Ä—ã–π') || (material.includes('190') && material.includes('–ù–í'))) {
                if (cutterType.includes('–¢–æ—Ä—Ü–æ–≤—ã–µ')) {
                    if (toolMaterial.includes('–¢–≤–µ—Ä–¥—ã–π —Å–ø–ª–∞–≤') || toolMaterial.includes('–í–ö')) {
                        return [54.5, 0.9, 0.74, 1.0, 1.0, 0];
                    } else if (toolMaterial.includes('–ë—ã—Å—Ç—Ä–æ—Ä–µ–∂—É—â–∞—è') || toolMaterial.includes('–†6–ú5')) {
                        return [50, 0.9, 0.72, 1.14, 1.14, 0];
                    }
                } else if (cutterType.includes('–¶–∏–ª–∏–Ω–¥—Ä–∏—á–µ—Å–∫–∏–µ')) {
                    if (toolMaterial.includes('–¢–≤–µ—Ä–¥—ã–π —Å–ø–ª–∞–≤') || toolMaterial.includes('–í–ö')) {
                        return [58, 0.9, 0.8, 1.0, 0.9, 0];
                    } else if (toolMaterial.includes('–ë—ã—Å—Ç—Ä–æ—Ä–µ–∂—É—â–∞—è') || toolMaterial.includes('–†6–ú5')) {
                        return [30, 0.83, 0.65, 1.0, 0.83, 0];
                    }
                } else if (cutterType.includes('–î–∏—Å–∫–æ–≤—ã–µ') || cutterType.includes('–ö–æ–Ω—Ü–µ–≤—ã–µ') || cutterType.includes('–ü—Ä–æ—Ä–µ–∑–Ω—ã–µ')) {
                    if (toolMaterial.includes('–ë—ã—Å—Ç—Ä–æ—Ä–µ–∂—É—â–∞—è') || toolMaterial.includes('–†6–ú5')) {
                        return [30, 0.83, 0.65, 1.0, 0.83, 0];
                    }
                }
            }
            // –ß—É–≥—É–Ω –∫–æ–≤–∫–∏–π
            else if (material.includes('–ß—É–≥—É–Ω –∫–æ–≤–∫–∏–π') || (material.includes('150') && material.includes('–ù–í'))) {
                if (cutterType.includes('–¢–æ—Ä—Ü–æ–≤—ã–µ')) {
                    if (toolMaterial.includes('–¢–≤–µ—Ä–¥—ã–π —Å–ø–ª–∞–≤') || toolMaterial.includes('–í–ö')) {
                        return [491, 1.0, 0.75, 1.1, 1.3, 0.2];
                    } else if (toolMaterial.includes('–ë—ã—Å—Ç—Ä–æ—Ä–µ–∂—É—â–∞—è') || toolMaterial.includes('–†6–ú5')) {
                        return [50, 0.95, 0.8, 1.1, 1.1, 0];
                    }
                } else if (cutterType.includes('–¶–∏–ª–∏–Ω–¥—Ä–∏—á–µ—Å–∫–∏–µ') || cutterType.includes('–î–∏—Å–∫–æ–≤—ã–µ') || cutterType.includes('–ö–æ–Ω—Ü–µ–≤—ã–µ') || cutterType.includes('–ü—Ä–æ—Ä–µ–∑–Ω—ã–µ')) {
                    if (toolMaterial.includes('–ë—ã—Å—Ç—Ä–æ—Ä–µ–∂—É—â–∞—è') || toolMaterial.includes('–†6–ú5')) {
                        return [30, 0.86, 0.72, 1.0, 0.86, 0];
                    }
                }
            }
            // –ú–µ–¥–Ω—ã–µ —Å–ø–ª–∞–≤—ã
            else if (material.includes('–ú–µ–¥–Ω')) {
                if (toolMaterial.includes('–ë—ã—Å—Ç—Ä–æ—Ä–µ–∂—É—â–∞—è') || toolMaterial.includes('–†6–ú5')) {
                    return [22.6, 0.86, 0.72, 1.0, 0.86, 0];
                }
            }

            // –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é
            return [30, 0.83, 0.65, 1.0, 0.83, 0];
        }

        function calculate() {
            try {
                // –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ —Ñ–æ—Ä–º—ã
                const D = parseFloat(document.getElementById('diameter').value);
                const z = parseInt(document.getElementById('teethNumber').value);
                const B = parseFloat(document.getElementById('width').value);
                const t = parseFloat(document.getElementById('depth').value);
                const Sz = parseFloat(document.getElementById('feedPerTooth').value);
                const T_input = parseFloat(document.getElementById('toolLife').value);
                const l = parseFloat(document.getElementById('length').value);
                const l1 = parseFloat(document.getElementById('approach').value);
                const l2 = parseFloat(document.getElementById('overtravel').value);
                const N_st = parseFloat(document.getElementById('machinePower').value);
                const eta = parseFloat(document.getElementById('efficiency').value);

                const material = document.getElementById('material').value;
                const toolMaterial = document.getElementById('toolMaterial').value;
                const cutterType = document.getElementById('cutterType').value;
                const operation = document.getElementById('operationType').value;
                const machiningType = document.getElementById('machiningType').value;
                const cooling = document.getElementById('cooling').value;
                const machine = document.getElementById('machine').value;

                // –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–æ–≤
                const [Cv, q, x, y, u, p, m] = getCuttingSpeedCoefficients(
                    material, toolMaterial, cutterType, operation, B, t, Sz
                );

                let T = getToolLife(cutterType, D);
                if (T_input !== 150) {
                    T = T_input;
                }

                // –ü–æ–ø—Ä–∞–≤–æ—á–Ω—ã–π –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç
                let Kv = cooling.includes('–° –æ—Ö–ª–∞–∂–¥–µ–Ω–∏–µ–º') ? 1.0 : 0.8;

                // –†–∞—Å—á–µ—Ç —Å–∫–æ—Ä–æ—Å—Ç–∏ —Ä–µ–∑–∞–Ω–∏—è
                const V = (Cv / (Math.pow(T, m) * Math.pow(D, q) * Math.pow(t, x) * 
                           Math.pow(Sz, y) * Math.pow(B, u) * Math.pow(z, p))) * Kv;

                // –†–∞—Å—á–µ—Ç —á–∏—Å–ª–∞ –æ–±–æ—Ä–æ—Ç–æ–≤
                const n_calc = (1000 * V) / (Math.PI * D);

                // –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –æ–±–æ—Ä–æ—Ç—ã
                const standardSpeeds = [16, 20, 25, 31.5, 40, 50, 63, 80, 100, 125, 160, 200, 
                                      250, 315, 400, 500, 630, 800, 1000, 1250, 1600, 2000];
                const n_accepted = standardSpeeds.reduce((prev, curr) => 
                    Math.abs(curr - n_calc) < Math.abs(prev - n_calc) ? curr : prev
                );

                // –§–∞–∫—Ç–∏—á–µ—Å–∫–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å
                const Vf = (Math.PI * D * n_accepted) / 1000;

                // –†–∞—Å—á–µ—Ç –ø–æ–¥–∞—á–∏
                const Sm = Sz * z * n_accepted;
                const Sz_fact = Sm / (z * n_accepted);

                // –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã —Å–∏–ª—ã
                const [Cp, x_p, y_p, u_p, q_p, w_p] = getCuttingForceCoefficients(
                    material, toolMaterial, cutterType, operation
                );

                const Kp = 1.0;

                // –û–∫—Ä—É–∂–Ω–∞—è —Å–∏–ª–∞
                let Pz;
                if (q_p !== 0) {
                    Pz = 10 * Cp * Math.pow(t, x_p) * Math.pow(Sz, y_p) * 
                         Math.pow(B, u_p) * Math.pow(D, w_p) * z / Math.pow(n_accepted, q_p) * Kp;
                } else {
                    Pz = 10 * Cp * Math.pow(t, x_p) * Math.pow(Sz, y_p) * 
                         Math.pow(B, u_p) * Math.pow(D, w_p) * z * Kp;
                }

                // –ú–æ—â–Ω–æ—Å—Ç—å —Ä–µ–∑–∞–Ω–∏—è
                const N_rez = (Pz * Vf) / (1020 * 60);
                const N_trebuemaya = N_rez / eta;

                // –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ –º–æ—â–Ω–æ—Å—Ç–∏
                const powerCheck = N_trebuemaya <= N_st;

                // –û—Å–Ω–æ–≤–Ω–æ–µ –≤—Ä–µ–º—è
                const L_total = l + l1 + l2;
                const To = L_total / Sm;

                // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
                calculationResults = {
                    cutterType, operation, material, toolMaterial, machiningType, cooling, machine,
                    D, z, B, t, Sz, l, l1, l2, L_total,
                    Cv, T, q, x, y, u, p, m, Kv, V, n_calc, n_accepted, Vf, Sm, Sz_fact,
                    Cp, x_p, y_p, u_p, q_p, w_p, Kp, Pz,
                    N_rez, N_trebuemaya, N_st, eta, powerCheck, To
                };

                displayResults();
                showToast('‚úÖ –†–∞—Å—á–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω —É—Å–ø–µ—à–Ω–æ!');
            } catch (error) {
                showToast('‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ —Ä–∞—Å—á–µ—Ç–µ: ' + error.message, 'error');
                console.error(error);
            }
        }

        function displayResults() {
            const r = calculationResults;
            const resultsSection = document.getElementById('resultsSection');
            const resultsContent = document.getElementById('resultsContent');

            let html = `
                <div class="result-block">
                    <h3>üìã –ò—Å—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ</h3>
                    <div class="result-item">
                        <span class="result-label">–¢–∏–ø —Ñ—Ä–µ–∑—ã:</span>
                        <span class="result-value">${r.cutterType}</span>
                    </div>
                    <div class="result-item">
                        <span class="result-label">–û–ø–µ—Ä–∞—Ü–∏—è:</span>
                        <span class="result-value">${r.operation}</span>
                    </div>
                    <div class="result-item">
                        <span class="result-label">–ú–∞—Ç–µ—Ä–∏–∞–ª –¥–µ—Ç–∞–ª–∏:</span>
                        <span class="result-value">${r.material}</span>
                    </div>
                    <div class="result-item">
                        <span class="result-label">–ú–∞—Ç–µ—Ä–∏–∞–ª –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞:</span>
                        <span class="result-value">${r.toolMaterial}</span>
                    </div>
                    <div class="result-item">
                        <span class="result-label">–í–∏–¥ –æ–±—Ä–∞–±–æ—Ç–∫–∏:</span>
                        <span class="result-value">${r.machiningType}</span>
                    </div>
                    <div class="result-item">
                        <span class="result-label">–û—Ö–ª–∞–∂–¥–µ–Ω–∏–µ:</span>
                        <span class="result-value">${r.cooling}</span>
                    </div>
                    <div class="result-item">
                        <span class="result-label">–°—Ç–∞–Ω–æ–∫:</span>
                        <span class="result-value">${r.machine}</span>
                    </div>
                </div>

                <div class="result-block">
                    <h3>üìä –†–∞—Å—á–µ—Ç —Å–∫–æ—Ä–æ—Å—Ç–∏ —Ä–µ–∑–∞–Ω–∏—è</h3>
                    <div class="coefficient-info">
                        <strong>üìñ –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã –∏–∑ —Ç–∞–±–ª–∏—Ü—ã 81 –º–µ—Ç–æ–¥–∏—á–∫–∏:</strong><br>
                        Cv = ${r.Cv} (–≤—ã–±—Ä–∞–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏!)<br>
                        T = ${r.T} –º–∏–Ω (—Å—Ç–æ–π–∫–æ—Å—Ç—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞)<br>
                        –ü–æ–∫–∞–∑–∞—Ç–µ–ª–∏ —Å—Ç–µ–ø–µ–Ω–∏: q=${r.q}, x=${r.x}, y=${r.y}, u=${r.u}, p=${r.p}, m=${r.m}<br>
                        Kv = ${r.Kv.toFixed(3)} (–ø–æ–ø—Ä–∞–≤–æ—á–Ω—ã–π –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç)
                    </div>
                    <div class="formula">
                        V = Cv / (T<sup>m</sup> √ó D<sup>q</sup> √ó t<sup>x</sup> √ó Sz<sup>y</sup> √ó B<sup>u</sup> √ó z<sup>p</sup>) √ó Kv
                    </div>
                    <div class="result-item">
                        <span class="result-label">–°–∫–æ—Ä–æ—Å—Ç—å —Ä–µ–∑–∞–Ω–∏—è V:</span>
                        <span class="result-value">${r.V.toFixed(2)} –º/–º–∏–Ω</span>
                    </div>
                </div>

                <div class="result-block">
                    <h3>‚öôÔ∏è –ß–∏—Å–ª–æ –æ–±–æ—Ä–æ—Ç–æ–≤ –∏ –ø–æ–¥–∞—á–∞</h3>
                    <div class="result-item">
                        <span class="result-label">–†–∞—Å—á—ë—Ç–Ω–æ–µ —á–∏—Å–ª–æ –æ–±–æ—Ä–æ—Ç–æ–≤ n<sub>—Ä–∞—Å—á</sub>:</span>
                        <span class="result-value">${r.n_calc.toFixed(1)} –æ–±/–º–∏–Ω</span>
                    </div>
                    <div class="result-item">
                        <span class="result-label">–ü—Ä–∏–Ω—è—Ç–æ–µ —á–∏—Å–ª–æ –æ–±–æ—Ä–æ—Ç–æ–≤ n:</span>
                        <span class="result-value">${r.n_accepted} –æ–±/–º–∏–Ω</span>
                    </div>
                    <div class="result-item">
                        <span class="result-label">–§–∞–∫—Ç–∏—á–µ—Å–∫–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å V<sub>—Ñ</sub>:</span>
                        <span class="result-value">${r.Vf.toFixed(2)} –º/–º–∏–Ω</span>
                    </div>
                    <div class="result-item">
                        <span class="result-label">–ú–∏–Ω—É—Ç–Ω–∞—è –ø–æ–¥–∞—á–∞ S<sub>–º</sub>:</span>
                        <span class="result-value">${r.Sm.toFixed(1)} –º–º/–º–∏–Ω</span>
                    </div>
                </div>

                <div class="result-block">
                    <h3>üí™ –°–∏–ª–∞ —Ä–µ–∑–∞–Ω–∏—è</h3>
                    <div class="coefficient-info">
                        <strong>üìñ –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã –∏–∑ —Ç–∞–±–ª–∏—Ü—ã 83 –º–µ—Ç–æ–¥–∏—á–∫–∏:</strong><br>
                        Cp = ${r.Cp}, x=${r.x_p}, y=${r.y_p}, u=${r.u_p}, w=${r.w_p}, q=${r.q_p}<br>
                        Kp = ${r.Kp.toFixed(3)}
                    </div>
                    <div class="formula">
                        Pz = 10 √ó Cp √ó t<sup>x</sup> √ó Sz<sup>y</sup> √ó B<sup>u</sup> √ó D<sup>w</sup> √ó z / n<sup>q</sup> √ó Kp
                    </div>
                    <div class="result-item">
                        <span class="result-label">–û–∫—Ä—É–∂–Ω–∞—è —Å–∏–ª–∞ —Ä–µ–∑–∞–Ω–∏—è Pz:</span>
                        <span class="result-value">${r.Pz.toFixed(1)} –ù</span>
                    </div>
                </div>

                <div class="result-block">
                    <h3>‚ö° –ú–æ—â–Ω–æ—Å—Ç—å —Ä–µ–∑–∞–Ω–∏—è</h3>
                    <div class="result-item">
                        <span class="result-label">–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–∞—è –º–æ—â–Ω–æ—Å—Ç—å N<sub>—ç</sub>:</span>
                        <span class="result-value">${r.N_rez.toFixed(3)} –∫–í—Ç</span>
                    </div>
                    <div class="result-item">
                        <span class="result-label">–¢—Ä–µ–±—É–µ–º–∞—è –º–æ—â–Ω–æ—Å—Ç—å N<sub>—Ç—Ä</sub>:</span>
                        <span class="result-value">${r.N_trebuemaya.toFixed(3)} –∫–í—Ç</span>
                    </div>
                    <div class="result-item">
                        <span class="result-label">–ú–æ—â–Ω–æ—Å—Ç—å —Å—Ç–∞–Ω–∫–∞ N:</span>
                        <span class="result-value">${r.N_st} –∫–í—Ç</span>
                    </div>
                    <div class="power-check ${r.powerCheck ? 'success' : 'fail'}">
                        ${r.powerCheck ? '‚úÖ –ü–†–û–í–ï–†–ö–ê –ü–û –ú–û–©–ù–û–°–¢–ò –ü–†–û–ô–î–ï–ù–ê' : '‚ùå –ü–†–û–í–ï–†–ö–ê –ü–û –ú–û–©–ù–û–°–¢–ò –ù–ï –ü–†–û–ô–î–ï–ù–ê'}
                        <br>
                        N<sub>—Ç—Ä</sub> ${r.powerCheck ? '‚â§' : '>'} N (${r.N_trebuemaya.toFixed(3)} ${r.powerCheck ? '‚â§' : '>'} ${r.N_st})
                    </div>
                </div>

                <div class="result-block">
                    <h3>‚è±Ô∏è –û—Å–Ω–æ–≤–Ω–æ–µ –≤—Ä–µ–º—è</h3>
                    <div class="result-item">
                        <span class="result-label">–ü–æ–ª–Ω–∞—è –¥–ª–∏–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ L:</span>
                        <span class="result-value">${r.L_total.toFixed(1)} –º–º</span>
                    </div>
                    <div class="result-item">
                        <span class="result-label">–û—Å–Ω–æ–≤–Ω–æ–µ –≤—Ä–µ–º—è T<sub>o</sub>:</span>
                        <span class="result-value">${r.To.toFixed(3)} –º–∏–Ω (${(r.To * 60).toFixed(1)} —Å–µ–∫)</span>
                    </div>
                </div>

                <div class="result-block">
                    <h3>‚úÖ –ò—Ç–æ–≥–æ–≤—ã–µ —Ä–µ–∂–∏–º—ã —Ä–µ–∑–∞–Ω–∏—è</h3>
                    <table class="result-table">
                        <thead>
                            <tr>
                                <th>–ü–∞—Ä–∞–º–µ—Ç—Ä</th>
                                <th>–ó–Ω–∞—á–µ–Ω–∏–µ</th>
                                <th>–ï–¥. –∏–∑–º.</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>–ì–ª—É–±–∏–Ω–∞ —Ä–µ–∑–∞–Ω–∏—è t</td>
                                <td>${r.t.toFixed(1)}</td>
                                <td>–º–º</td>
                            </tr>
                            <tr>
                                <td>–ü–æ–¥–∞—á–∞ –Ω–∞ –∑—É–± Sz</td>
                                <td>${r.Sz.toFixed(2)}</td>
                                <td>–º–º/–∑—É–±</td>
                            </tr>
                            <tr>
                                <td>–ú–∏–Ω—É—Ç–Ω–∞—è –ø–æ–¥–∞—á–∞ Sm</td>
                                <td>${r.Sm.toFixed(1)}</td>
                                <td>–º–º/–º–∏–Ω</td>
                            </tr>
                            <tr>
                                <td>–°–∫–æ—Ä–æ—Å—Ç—å —Ä–µ–∑–∞–Ω–∏—è V</td>
                                <td>${r.Vf.toFixed(2)}</td>
                                <td>–º/–º–∏–Ω</td>
                            </tr>
                            <tr>
                                <td>–ß–∏—Å–ª–æ –æ–±–æ—Ä–æ—Ç–æ–≤ n</td>
                                <td>${r.n_accepted}</td>
                                <td>–æ–±/–º–∏–Ω</td>
                            </tr>
                            <tr>
                                <td>–û–∫—Ä—É–∂–Ω–∞—è —Å–∏–ª–∞ Pz</td>
                                <td>${r.Pz.toFixed(1)}</td>
                                <td>–ù</td>
                            </tr>
                            <tr>
                                <td>–ú–æ—â–Ω–æ—Å—Ç—å —Ä–µ–∑–∞–Ω–∏—è N—ç</td>
                                <td>${r.N_rez.toFixed(3)}</td>
                                <td>–∫–í—Ç</td>
                            </tr>
                            <tr>
                                <td>–û—Å–Ω–æ–≤–Ω–æ–µ –≤—Ä–µ–º—è To</td>
                                <td>${r.To.toFixed(3)}</td>
                                <td>–º–∏–Ω</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div style="text-align: center; padding: 20px; color: #7f8c8d; font-size: 0.9em;">
                    –†–∞—Å—á—ë—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω: ${new Date().toLocaleString('ru-RU')}
                </div>
            `;

            resultsContent.innerHTML = html;
            resultsSection.classList.add('show');
            resultsSection.scrollIntoView({ behavior: 'smooth' });
        }

        function generateReport() {
            if (!calculationResults) {
                showToast('‚ö†Ô∏è –°–Ω–∞—á–∞–ª–∞ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ —Ä–∞—Å—á–µ—Ç!', 'warning');
                return;
            }

            const r = calculationResults;
            
            // –§–æ—Ä–º–∏—Ä—É–µ–º –æ—Ç—á–µ—Ç –≤ —Ñ–æ—Ä–º–∞—Ç–µ –æ–±—Ä–∞–∑—Ü–∞ Word-–¥–æ–∫—É–º–µ–Ω—Ç–∞
            const reportContent = `–û–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ ‚Äì ${r.machine}  N—Å—Ç=${r.N_st} –∫–í—Ç
–†–µ–∂—É—â–∏–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç ‚Äì ${r.cutterType}, ${r.toolMaterial}

1-–ø–µ—Ä–µ—Ö–æ–¥. ${r.operation}

–ì–ª—É–±–∏–Ω–∞ —Ä–µ–∑–∞–Ω–∏—è. t = ${r.t} –º–º

–ü–æ–¥–∞—á–∞. Sz = ${r.Sz} –º–º/–∑—É–±

–í –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –¥–∏–∞–º–µ—Ç—Ä–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ä–∞–∑–º–µ—Ä–∞ –¥–µ—Ä–∂–∞–≤–∫–∏, –æ–±—Ä–∞–±–æ—Ç—ã–≤–∞–µ–º–æ–≥–æ –º–∞—Ç–µ—Ä–∏–∞–ª–∞ –∏ –≥–ª—É–±–∏–Ω—ã —Ä–µ–∑–∞–Ω–∏—è.

‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

3. –î–æ–ø—É—Å—Ç–∏–º–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å —Ä–µ–∑–∞–Ω–∏—è

                V = Cv / (T^m √ó D^q √ó t^x √ó Sz^y √ó B^u √ó z^p) √ó Kv, –º/–º–∏–Ω

T = ${r.T} –º–∏–Ω ‚Äì —Å—Ç–æ–π–∫–æ—Å—Ç—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞
D = ${r.D} –º–º,     z = ${r.z},     B = ${r.B} –º–º

–ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã –∏–∑ —Ç–∞–±–ª–∏—Ü—ã 81:
Cv = ${r.Cv}
x = ${r.x}
y = ${r.y}
m = ${r.m}
p = ${r.p}
u = ${r.u}
q = ${r.q}

Kv ‚Äì –ø–æ–ø—Ä–∞–≤–æ—á–Ω—ã–π –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç.
Kv = ${r.Kv.toFixed(3)}

‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
V = ${r.V.toFixed(2)} –º/–º–∏–Ω
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

4. –†–∞—Å—á–µ—Ç —á–∏—Å–ª–∞ –æ–±–æ—Ä–æ—Ç–æ–≤

                n = (1000 √ó V) / (œÄ √ó D), –æ–±/–º–∏–Ω

n —Ä–∞—Å—á = ${r.n_calc.toFixed(1)} –æ–±/–º–∏–Ω

‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

5. –†–∞—Å—á–µ—Ç–Ω–∞—è –º–∏–Ω—É—Ç–Ω–∞—è –ø–æ–¥–∞—á–∞

                Sm = Sz √ó z √ó n, –º–º/–º–∏–Ω

Sm —Ä–∞—Å—á = ${r.Sm.toFixed(1)} –º–º/–º–∏–Ω

‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

6. –ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ —Ä–∞—Å—á–µ—Ç–Ω—ã—Ö –≤–µ–ª–∏—á–∏–Ω –ø–æ —Å—Ç–∞–Ω–∫—É

n –ø—Ä–∏–Ω = ${r.n_accepted} –æ–±/–º–∏–Ω            Sm –ø—Ä–∏–Ω = ${r.Sm.toFixed(1)} –º–º/–º–∏–Ω

‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

7. –î–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å —Ä–µ–∑–∞–Ω–∏—è

                V—Ñ = (œÄ √ó D √ó n) / 1000, –º/–º–∏–Ω

V—Ñ = ${r.Vf.toFixed(2)} –º/–º–∏–Ω

–î–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–∞—è –ø–æ–¥–∞—á–∞ –Ω–∞ –∑—É–±:
Sz —Ñ–∞–∫—Ç = ${r.Sz_fact.toFixed(3)} –º–º/–∑—É–±

‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

8. –°–∏–ª–∞ —Ä–µ–∑–∞–Ω–∏—è

                Pz = 10 √ó Cp √ó t^x √ó Sz^y √ó B^u √ó D^w √ó z / n^q √ó Kp, –ù

–ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã –∏–∑ —Ç–∞–±–ª–∏—Ü—ã 83:
Cp = ${r.Cp}
x = ${r.x_p}
y = ${r.y_p}
u = ${r.u_p}
q = ${r.q_p}
w = ${r.w_p}

Kp = ${r.Kp.toFixed(3)}

‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
Pz = ${r.Pz.toFixed(1)} –ù
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

9. –ú–æ—â–Ω–æ—Å—Ç—å —Ä–µ–∑–∞–Ω–∏—è

                N—ç = (Pz √ó V—Ñ) / 61200, –∫–í—Ç

N—ç = ${r.N_rez.toFixed(3)} –∫–í—Ç

‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

10. –ú–æ—â–Ω–æ—Å—Ç—å –Ω–∞ –ø—Ä–∏–≤–æ–¥–µ

                N—Ç—Ä = N—ç / Œ∑, –∫–í—Ç

N—Ç—Ä = ${r.N_trebuemaya.toFixed(3)} –∫–í—Ç

${r.powerCheck ? '‚úì' : '‚úó'} –£—Å–ª–æ–≤–∏–µ N—Ç—Ä ‚â§ N—Å—Ç ${r.powerCheck ? '–≤—ã–ø–æ–ª–Ω–µ–Ω–æ' : '–ù–ï –≤—ã–ø–æ–ª–Ω–µ–Ω–æ'}, –æ–±—Ä–∞–±–æ—Ç–∫–∞ ${r.powerCheck ? '–≤–æ–∑–º–æ–∂–Ω–∞' : '–Ω–µ–≤–æ–∑–º–æ–∂–Ω–∞'}

‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

11. –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–µ –≤—Ä–µ–º—è

                To = (L + l‚ÇÅ + l‚ÇÇ) / Sm, –º–∏–Ω

L = ${r.l} –º–º ‚Äì –¥–ª–∏–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–ª—è –Ω–∞—à–µ–≥–æ —Å–ª—É—á–∞—è
l‚ÇÅ = ${r.l1} –º–º ‚Äì –≤–µ–ª–∏—á–∏–Ω–∞ –≤—Ä–µ–∑–∞–Ω–∏—è —Ä–µ–∑—Ü–∞
l‚ÇÇ = ${r.l2} –º–º ‚Äì –≤–µ–ª–∏—á–∏–Ω–∞ –ø–µ—Ä–µ–±–µ–≥–∞ —Ä–µ–∑—Ü–∞

‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
To = ${r.To.toFixed(3)} –º–∏–Ω
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

12. –®—Ç—É—á–Ω–æ–µ –≤—Ä–µ–º—è

T—à—Ç = ${r.To.toFixed(3)} –º–∏–Ω


‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
–†–∞—Å—á–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω: ${new Date().toLocaleString('ru-RU')}
–ü—Ä–æ–≥—Ä–∞–º–º–∞: –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —Ä–µ–∂–∏–º–æ–≤ —Ä–µ–∑–∞–Ω–∏—è –ø—Ä–∏ —Ñ—Ä–µ–∑–µ—Ä–æ–≤–∞–Ω–∏–∏ v1.0
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
`;

            // –°–æ–∑–¥–∞–µ–º —Ç–µ–∫—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª –¥–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è
            const blob = new Blob([reportContent], { type: 'text/plain; charset=utf-8' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `–†–µ–∂–∏–º—ã_—Ä–µ–∑–∞–Ω–∏—è_${new Date().toISOString().slice(0, 10)}.txt`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);

            showToast('üìÑ –û—Ç—á–µ—Ç —Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω –∏ –∑–∞–≥—Ä—É–∂–µ–Ω!');
        }


        function saveData() {
            const data = {
                diameter: document.getElementById('diameter').value,
                teethNumber: document.getElementById('teethNumber').value,
                width: document.getElementById('width').value,
                depth: document.getElementById('depth').value,
                feedPerTooth: document.getElementById('feedPerTooth').value,
                toolLife: document.getElementById('toolLife').value,
                length: document.getElementById('length').value,
                approach: document.getElementById('approach').value,
                overtravel: document.getElementById('overtravel').value,
                machinePower: document.getElementById('machinePower').value,
                efficiency: document.getElementById('efficiency').value,
                cutterType: document.getElementById('cutterType').value,
                operationType: document.getElementById('operationType').value,
                material: document.getElementById('material').value,
                toolMaterial: document.getElementById('toolMaterial').value,
                machiningType: document.getElementById('machiningType').value,
                cooling: document.getElementById('cooling').value,
                machine: document.getElementById('machine').value
            };

            localStorage.setItem('millingCalculatorData', JSON.stringify(data));
            showToast('üíæ –î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã!');
        }

        function loadData() {
            const savedData = localStorage.getItem('millingCalculatorData');
            if (savedData) {
                const data = JSON.parse(savedData);
                
                document.getElementById('diameter').value = data.diameter;
                document.getElementById('teethNumber').value = data.teethNumber;
                document.getElementById('width').value = data.width;
                document.getElementById('depth').value = data.depth;
                document.getElementById('feedPerTooth').value = data.feedPerTooth;
                document.getElementById('toolLife').value = data.toolLife;
                document.getElementById('length').value = data.length;
                document.getElementById('approach').value = data.approach;
                document.getElementById('overtravel').value = data.overtravel;
                document.getElementById('machinePower').value = data.machinePower;
                document.getElementById('efficiency').value = data.efficiency;
                document.getElementById('cutterType').value = data.cutterType;
                document.getElementById('operationType').value = data.operationType;
                document.getElementById('material').value = data.material;
                document.getElementById('toolMaterial').value = data.toolMaterial;
                document.getElementById('machiningType').value = data.machiningType;
                document.getElementById('cooling').value = data.cooling;
                document.getElementById('machine').value = data.machine;

                showToast('üìÇ –î–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã!');
            } else {
                showToast('‚ö†Ô∏è –°–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –Ω–µ –Ω–∞–π–¥–µ–Ω–æ!', 'warning');
            }
        }

        function clearResults() {
            calculationResults = null;
            document.getElementById('resultsSection').classList.remove('show');
            showToast('üóëÔ∏è –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –æ—á–∏—â–µ–Ω—ã!');
        }

        function showToast(message, type = 'success') {
            const toast = document.createElement('div');
            toast.className = 'toast';
            toast.textContent = message;
            document.body.appendChild(toast);

            setTimeout(() => {
                toast.remove();
            }, 3000);
        }

        // –ê–≤—Ç–æ–∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ
        window.addEventListener('load', () => {
            const savedData = localStorage.getItem('millingCalculatorData');
            if (savedData) {
                const autoLoad = confirm('–û–±–Ω–∞—Ä—É–∂–µ–Ω—ã —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ. –ó–∞–≥—Ä—É–∑–∏—Ç—å –∏—Ö?');
                if (autoLoad) {
                    loadData();
                }
            }
        });
    </script>
</body>
</html>